<ion-content [fullscreen]="true">

  <div class="header ion-text-center">
    <h1>Detalle</h1>
    <ion-label>{{clase.fecha| date: 'dd/MM/yyyy'}}</ion-label>
    <p>
      <ion-title>{{clase.clase}}</ion-title>    
      <ion-icon 
      *ngIf="clase.registrado < clase.total || clase.enEspera< clase.listaespera"
      
      slot="end" (click)="agregarRegistro()" name="add-circle-sharp"></ion-icon>
    </p>
  </div>

  <h5 class="ion-text-center" >
    <ion-icon slot="start" name="people-sharp"></ion-icon>
    Alumnos inscritos {{ registroClases.length + ' / ' + clase.total}}
     
  </h5>
  <div *ngIf="isLoading" class="ion-text-center"> 
    <ion-item>
      <ion-skeleton-text [animated]="true"></ion-skeleton-text>
      <ion-skeleton-text [animated]="true" style="width: 20%;" slot="end"></ion-skeleton-text>
    </ion-item>
    
  </div>

  <!-- Lista de Registrados (estado "R") -->
 
  <ion-list *ngIf="registroClases.length>0">
    <ion-item-sliding *ngFor="let registro of registroClases"
     
     >
     <!-- (ionSwipe)="editarRegistro(registro,'A')" -->
     <ion-item>
        <ion-label>
          <label>{{ registro.userInfo?.name + ' ' + registro.userInfo?.apellido }}</label>
        </ion-label>
        <ion-badge color="primary" *ngIf="registro.estado === 'R';else asistencia">Registrado</ion-badge>
        <ng-template #asistencia>
          <ion-badge color="success">Asistencia</ion-badge>
        </ng-template>
      </ion-item>
      <ion-item-options side="start">
        <ion-item-option color="primary" (click)="editarRegistro(registro, 'A')">
          <ion-icon slot="start" name="checkmark-circle-outline"></ion-icon>
        </ion-item-option>
      </ion-item-options>
      <ion-item-options side="end">
        <ion-item-option color="danger" (click)="eliminarRegistro(registro)">
          <ion-icon slot="start" name="close-circle-outline"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>


  <!-- Lista de En espera (estado "E") -->
  <h5 class="ion-text-center" *ngIf="registrosEnEspera.length>0">
    <ion-icon slot="start" name="people-sharp"></ion-icon>
    Lista de Espera  {{ registrosEnEspera.length + ' / ' + clase.listaespera}}
  </h5>
  <ion-list *ngIf="registrosEnEspera.length>0">
    <ion-item-sliding *ngFor="let registro of registrosEnEspera" [disabled]="clase.total === clase.registrado">
    <!-- (ionSwipe)="editarRegistro(registro, 'R')"> -->
      <ion-item>
        <ion-label>
          {{ registro.userInfo?.name + ' ' + registro.userInfo?.apellido }}
        </ion-label>
        <ion-badge color="warning">En espera</ion-badge>
      </ion-item>
      <ion-item-options side="end">
         
        <ion-item-option color="success" (click)="editarRegistro(registro,'R')">
          <ion-icon slot="start" name="add-circle-sharp"></ion-icon>
        </ion-item-option>
      </ion-item-options>
    </ion-item-sliding>
  </ion-list>

</ion-content>
