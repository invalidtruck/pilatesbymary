<ion-progress-bar type="indeterminate" *ngIf="isConsulting"></ion-progress-bar>
<ion-content [fullscreen]="true">
  <ion-grid>
    <ion-row>
      <ion-col></ion-col>
      <ion-col>
        <div class="ion-text-center">

          <ion-datetime [min]="today" mode="ios" locale="es-MX" presentation="date"
            (ionChange)="onDateSelected($event)">
          </ion-datetime>
        </div>
      </ion-col>
      <ion-col></ion-col>
    </ion-row>
    <ion-row class="fullwidth">
      <ion-col>
        <ion-list [inset]="true" *ngFor="let sesion of Sesiones">
          <ion-item [button]="false">
            <ion-grid>
              <ion-row>
                <ion-col size="4">
                  <ion-label>{{sesion.hora}}</ion-label>
                  <ion-label><ion-note>({{sesion.duracion }} min)</ion-note></ion-label>
                </ion-col>
                <ion-col size="6"><strong>{{sesion.clase}}</strong></ion-col>
                <ion-col size="2">
                  <ion-note *ngIf="sesion.registrado < sesion.total;">
                    Lugares: {{ sesion.total - sesion.registrado }}</ion-note>
                  <ion-note *ngIf="(sesion.enEspera < sesion.listaespera) && sesion.registrado === sesion.total">En
                    espera: {{ sesion.listaespera - sesion.enEspera}}</ion-note>
                  <ion-badge *ngIf="sesion.enEspera == sesion.listaespera && sesion.registrado === sesion.total"
                    color="warning" mode="ios">Lleno 
                  </ion-badge>

                </ion-col>
              </ion-row>
              <ion-row>
                <ion-col offset="9" size="3">
                  <ion-button class="ion-text-end" (click)="detalles(sesion.uid)">
                    Detalles
                  </ion-button>
                </ion-col>
              </ion-row>
            </ion-grid>
          </ion-item>
        </ion-list>
      </ion-col>
    </ion-row>
  </ion-grid>
  <div class="background">

  </div>

  <ion-modal (willDismiss)="onWillDismiss($event)">
    <ng-template>
      <!-- <ion-header>
        <ion-toolbar>
          <ion-buttons slot="start">
            <ion-button (click)="cancel()">Cancel</ion-button>
          </ion-buttons>
          <ion-title></ion-title>
          <ion-buttons slot="end">
            <ion-button (click)="confirm()" [strong]="true">Confirm</ion-button>
          </ion-buttons>
        </ion-toolbar>
      </ion-header> -->
      <ion-content class="ion-padding ion-text-center">
        <ion-grid fixed>
          <ion-row>
            <ion-col size="12" class="ion-text-uppercase">
              <ion-icon slot="start" name="arrow-back-outline" color="primary"></ion-icon>
              <h1>
                {{SelClass.clase}}
              </h1>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">{{SelClass.fecha|date: 'dd/MM/yy'}}</ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-note>({{SelClass.duracion}} min)</ion-note>
              <h1> {{SelClass.hora}}</h1>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <div style="display: block; margin:0,auto;">
                <span>
                  Nota: la cancelaci&oacute;n de la sesi&oacute;n debe ser como m&aacute;ximo una 1hr antes de iniciar
                </span>
              </div>
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <ion-button id="cancelar" color="danger" style="padding: 20px;">
                Cancelar
              </ion-button>
              <!-- <ion-alert trigger="cancelar" header="Cancelar clase" [buttons]="alertButtons"
                (didDismiss)="cancelar($event)"></ion-alert> -->
            </ion-col>
          </ion-row>
          <ion-row>
            <ion-col size="12">
              <!-- <h2>{{SelClass.instructor?.name + ' ' + SelClass.instructor?.apellido }}</h2> -->
            </ion-col>
          </ion-row>
        </ion-grid>
      </ion-content>
    </ng-template>
  </ion-modal>
  
</ion-content>
